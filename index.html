<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>My Moodboard</title>

    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <h1 class="header">My Moodboard</h1>
    <div class="searchContainer">
      <label class="searchLabel">search</label>
      <input type="text" id="myInput" class="searchInput" oninput="filterTags()" />
    </div>
    <p id="searchResult"></p>
    <div class="cardContainer" id="cardContainer"></div>
    <script>
      const cardContainer = document.querySelector("cardContainer");

      fetch("pins.json")
        .then(function (response) {
          return response.json();
        })
        .then(function (data) {
          appendData(data);
        })
        .catch(function (err) {
          console.log(err);
        });

      function appendData(data) {
        var cardContainer = document.getElementById("cardContainer");
        var img = document.getElementById("img");
        var tagContainer = document.getElementById("div");
        var tag = document.getElementById("button");

        for (var i = 0; i < data.length; i++) {
          var card = document.createElement("div");
          card.className = "card";
          cardContainer.appendChild(card);

          var img = document.createElement("img");
          img.src = data[i].src;
          card.appendChild(img);

          var tagContainer = document.createElement("div");
          card.appendChild(tagContainer);

          const tagButtons = data[i].tags.map((tag) => {
            const tagButton = document.createElement("button");
            tagButton.onclick = () => {
              console.log("clicked");
            };
            tagButton.innerHTML = tag;
            return tagButton;
          });
          for (const tagButton of tagButtons) {
            tagContainer.appendChild(tagButton);
          }
        }
      }

      function filterTags() {
        var x = document.getElementById("myInput").value;
        document.getElementById("searchResult").innerHTML =
          "You searched for: " + x;
      }
    </script>
  </body>
</html>
